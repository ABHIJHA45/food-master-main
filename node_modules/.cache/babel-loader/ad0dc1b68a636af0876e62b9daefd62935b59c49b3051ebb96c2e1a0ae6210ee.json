{"ast":null,"code":"import _slicedToArray from\"E:/food-master-main/food-master-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"E:/food-master-main/food-master-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"E:/food-master-main/food-master-main/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import React,{createContext,useContext,useReducer}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var CartStateContext=/*#__PURE__*/createContext();var CartDispatchContext=/*#__PURE__*/createContext();var reducer=function reducer(state,action){switch(action.type){case\"ADD\":return[].concat(_toConsumableArray(state),[{id:action.id,name:action.name,qty:action.qty,size:action.size,price:action.price,img:action.img}]);case\"REMOVE\":var newArr=_toConsumableArray(state);newArr.splice(action.index,1);return newArr;case\"DROP\":var empArray=[];return empArray;case\"UPDATE\":var arr=_toConsumableArray(state);arr.find(function(food,index){if(food.id===action.id){console.log(food.qty,parseInt(action.qty),action.price+food.price);arr[index]=_objectSpread(_objectSpread({},food),{},{qty:parseInt(action.qty)+food.qty,price:action.price+food.price});}return arr;});return arr;default:console.log(\"Error in reducer\");}};export var CartProvider=function CartProvider(_ref){var children=_ref.children;var _useReducer=useReducer(reducer,[]),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];return/*#__PURE__*/_jsx(CartDispatchContext.Provider,{value:dispatch,children:/*#__PURE__*/_jsx(CartStateContext.Provider,{value:state,children:children})});};export var useCart=function useCart(){return useContext(CartStateContext);};export var useDispatchCart=function useDispatchCart(){return useContext(CartDispatchContext);};","map":{"version":3,"names":["React","createContext","useContext","useReducer","jsx","_jsx","CartStateContext","CartDispatchContext","reducer","state","action","type","concat","_toConsumableArray","id","name","qty","size","price","img","newArr","splice","index","empArray","arr","find","food","console","log","parseInt","_objectSpread","CartProvider","_ref","children","_useReducer","_useReducer2","_slicedToArray","dispatch","Provider","value","useCart","useDispatchCart"],"sources":["E:/food-master-main/food-master-main/src/components/ContextReducer.js"],"sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\n\nconst CartStateContext = createContext();\nconst CartDispatchContext = createContext();\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"ADD\":\n      return [\n        ...state,\n        {\n          id: action.id,\n          name: action.name,\n          qty: action.qty,\n          size: action.size,\n          price: action.price,\n          img: action.img,\n        },\n      ];\n\n    case \"REMOVE\":\n      let newArr = [...state];\n      newArr.splice(action.index, 1);\n      return newArr;\n\n    case \"DROP\":\n      let empArray = [];\n      return empArray;\n\n    case \"UPDATE\":\n      let arr = [...state];\n      arr.find((food, index) => {\n        if (food.id === action.id) {\n          console.log(\n            food.qty,\n            parseInt(action.qty),\n            action.price + food.price\n          );\n          arr[index] = {\n            ...food,\n            qty: parseInt(action.qty) + food.qty,\n            price: action.price + food.price,\n          };\n        }\n        return arr;\n      });\n      return arr;\n\n    default:\n      console.log(\"Error in reducer\");\n  }\n};\n\nexport const CartProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, []);\n  return (\n    <CartDispatchContext.Provider value={dispatch}>\n      <CartStateContext.Provider value={state}>\n        {children}\n      </CartStateContext.Provider>\n    </CartDispatchContext.Provider>\n  );\n};\n\nexport const useCart = () => useContext(CartStateContext);\nexport const useDispatchCart = () => useContext(CartDispatchContext);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}