{"ast":null,"code":"import React from\"react\";// import Delete from \"@material-ui/icons/Delete\";\nimport{useCart,useDispatchCart}from\"../components/ContextReducer\";// import trash from \"../trash.svg\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Cart(){let data=useCart();let dispatch=useDispatchCart();if(data.length===0){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"m-5 w-100 text-center text-light fs-3\",children:\"The Cart is Empty!\"})});}//   const handleRemove = (index) => {\n//     console.log(index);\n//     dispatch({ type: \"REMOVE\", index: index });\n//   };\nconst handleCheckOut=async()=>{let userEmail=localStorage.getItem(\"userEmail\");// console.log(data, localStorage.getItem(\"userEmail\"), new Date());\nlet response=await fetch(\"http://localhost:5000/api/orderData\",{//   credentials: \"include\",\n//   Origin: \"http:localhost:3000/login\",\nmethod:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({order_data:data,email:userEmail,order_date:new Date().toDateString()})});console.log(\"JSON RESPONSE:::::\",response);if(response.status===200){dispatch({type:\"DROP\"});}};let totalPrice=data.reduce((total,food)=>total+food.price,0);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container m-auto mt-5 table-responsive  table-responsive-sm table-responsive-md\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover \",children:[/*#__PURE__*/_jsx(\"thead\",{className:\" text-success fs-4\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Option\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map((food,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{className:\" text-light fs-5\",children:food.name}),/*#__PURE__*/_jsx(\"td\",{className:\" text-light fs-5\",children:food.qty}),/*#__PURE__*/_jsx(\"td\",{className:\" text-light fs-5\",children:food.size}),/*#__PURE__*/_jsx(\"td\",{className:\" text-light fs-5\",children:food.price}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn p-0 bg-danger text-light  fs-5\",style:{width:\"26px\"},onClick:()=>{dispatch({type:\"REMOVE\",index:index});},children:\"X\"}),\" \"]})]}))})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h1\",{className:\"fs-2 text-light\",children:[\"Total Price: \",totalPrice,\"/-\"]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn bg-success mt-5 \",onClick:handleCheckOut,children:[\" \",\"Check Out\",\" \"]})})]})});}","map":{"version":3,"names":["React","useCart","useDispatchCart","jsx","_jsx","jsxs","_jsxs","Cart","data","dispatch","length","children","className","handleCheckOut","userEmail","localStorage","getItem","response","fetch","method","headers","body","JSON","stringify","order_data","email","order_date","Date","toDateString","console","log","status","type","totalPrice","reduce","total","food","price","scope","map","index","name","qty","size","style","width","onClick"],"sources":["E:/food-master-main/food-master-main/src/screens/Cart.js"],"sourcesContent":["import React from \"react\";\n// import Delete from \"@material-ui/icons/Delete\";\nimport { useCart, useDispatchCart } from \"../components/ContextReducer\";\n// import trash from \"../trash.svg\";\nexport default function Cart() {\n  let data = useCart();\n  let dispatch = useDispatchCart();\n  if (data.length === 0) {\n    return (\n      <div>\n        <div\n          className=\"m-5 w-100 text-center\n        text-light fs-3\"\n        >\n          The Cart is Empty!\n        </div>\n      </div>\n    );\n  }\n  //   const handleRemove = (index) => {\n  //     console.log(index);\n  //     dispatch({ type: \"REMOVE\", index: index });\n  //   };\n\n  const handleCheckOut = async () => {\n    let userEmail = localStorage.getItem(\"userEmail\");\n    // console.log(data, localStorage.getItem(\"userEmail\"), new Date());\n    let response = await fetch(\"http://localhost:5000/api/orderData\", {\n      //   credentials: \"include\",\n      //   Origin: \"http:localhost:3000/login\",\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        order_data: data,\n        email: userEmail,\n        order_date: new Date().toDateString(),\n      }),\n    });\n    console.log(\"JSON RESPONSE:::::\", response);\n    if (response.status === 200) {\n      dispatch({ type: \"DROP\" });\n    }\n  };\n\n  let totalPrice = data.reduce((total, food) => total + food.price, 0);\n  return (\n    <div>\n      {/* {console.log(data)} */}\n      <div className=\"container m-auto mt-5 table-responsive  table-responsive-sm table-responsive-md\">\n        <table className=\"table table-hover \">\n          <thead className=\" text-success fs-4\">\n            <tr>\n              <th scope=\"col\">#</th>\n              <th scope=\"col\">Name</th>\n              <th scope=\"col\">Quantity</th>\n              <th scope=\"col\">Option</th>\n              <th scope=\"col\">Amount</th>\n              <th scope=\"col\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            {data.map((food, index) => (\n              <tr>\n                <th scope=\"row\">{index + 1}</th>\n                <td className=\" text-light fs-5\">{food.name}</td>\n                <td className=\" text-light fs-5\">{food.qty}</td>\n                <td className=\" text-light fs-5\">{food.size}</td>\n                <td className=\" text-light fs-5\">{food.price}</td>\n                <td>\n                  <button\n                    type=\"button\"\n                    className=\"btn p-0 bg-danger text-light  fs-5\"\n                    style={{ width: \"26px\" }}\n                    onClick={() => {\n                      dispatch({ type: \"REMOVE\", index: index });\n                    }}\n                  >\n                    X\n                  </button>{\" \"}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n        <div>\n          <h1 className=\"fs-2 text-light\">Total Price: {totalPrice}/-</h1>\n        </div>\n        <div>\n          <button className=\"btn bg-success mt-5 \" onClick={handleCheckOut}>\n            {\" \"}\n            Check Out{\" \"}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}